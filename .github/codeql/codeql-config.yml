# CodeQL configuration for vulnerable-node demo repository
# Maximizes detection: multiple query suites + custom queries

name: "CodeQL config for vulnerable-node"

# Broad query suites for maximum findings
queries:
  - uses: security-and-quality
  - uses: security-extended
  # Custom queries in this repo — showcases CodeQL extensibility
  - uses: ./.github/codeql/custom-queries

# Paths to scan (include everything relevant)
paths:
  - app.js
  - config.js
  - routes
  - model
  - bin
  - services
  - middleware
  - tools
  - dummy.js

# Don't scan third-party libraries or test fixtures
paths-ignore:
  - public/js/bootstrap*.js
  - public/js/jquery.js
  - public/js/freewall.js
  - node_modules
  - '**/*.min.js'

# Threat models — enable all for maximum taint tracking
threat-models:
  - local
  - remote
